---
layout: post
title: "计算机网络基本知识"
subtitle: "一些基本概念"
date: 2016-10-21 21:00:00
author: "seventhking"
header-img: "img/home-bg-o.jpg"
catalog: true
tags:
    - network
---

> "基本概念"

### IP地址分类

|类别&nbsp;&nbsp;&nbsp;|最大网络数&nbsp;&nbsp;&nbsp;|IP地址范围&nbsp;&nbsp;&nbsp;|最大主机数&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;私有IP地址范围&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;子网掩码
|:----------------------|:---------------|:---------------------------|-------:|:-----------
|A|126(2^7-2)|0.0.0.0-127.255.255.255|16777214(2^24 - 2)|&nbsp;&nbsp;&nbsp;10.0.0.0-10.255.255.255|&nbsp;&nbsp;&nbsp;255.0.0.0
|B|16384(2^14)|128.0.0.0-191.255.255.255 |65534(2^16 - 2)|&nbsp;&nbsp;&nbsp;172.16.0.0-172.31.255.255|&nbsp;&nbsp;&nbsp;255.255.0.0
|C|2097152(2^21)|192.0.0.0-223.255.255.255 |254(2^8 - 2)|&nbsp;&nbsp;&nbsp;192.168.0.0-192.168.255.255|&nbsp;&nbsp;&nbsp;255.255.255.0

## 物理层
物理层所做的只是接收一个原始比特流，并试图将它传递给目标机器。  

## 数据链路层
数据链路层使用物理层提供的服务在通信信道上发送和s接收比特：  
（1）向网络层提供一个定义良好的服务接口  
（2）处理传输错误  
（3）调节数据流，确保慢速的接收方不会被快速的发送方淹没  

~~~
  发送机器                             接收机器
     |                                   ^
     v                                   |
   数据包                               数据包
     |                                   ^
     v                                   |
帧头：有效载荷：帧尾                 帧头：有效载荷：帧尾
     |                                   ^
     v                                   |
     -------------------------------------
~~~

数据链路层通常会提供以下3种可能的服务：  
（1）无确认的无连接服务：源机器向目标机器发送独立的帧，目标机器并不对这些帧进行确认。事先不需要建立逻辑连接，  
    事后也不用释放逻辑连接。不做丢帧的特殊处理。例如：以太网。适用场景：1.错误率很低的场合，差错恢复交给上层  
    2.实时通信，比如语音传输，因为在实时通信种数据迟到比数据受损更糟糕
（2）有确认的无连接服务：数据链路层没有使用逻辑连接，但其发送的每一帧都需要单独确认。这样，发送方可知道一个帧  
    是否已经正确地到达目的地。若一个帧在指定时间间隔内还没有到达，则发送方将再次发送该帧。这类服务尤其适用于不  
    可靠信道，比如无限系统。802.11（WiFi）  
    
    值得强调的是，在数据链路层提供确认只是一种优化手段，永远不应该成为一种需求。网络层总是可以发送一个数据包，  
    然后等待该数据包被确认。如果在计时器超时之前，该数据包的确认还没有到来，那么发送方只要再次发送整个报文即可。  
    这一策略的麻烦在于它可能导致传输的低效率。链路层对帧通常有严格的长度限制，这是由硬件所决定的；除此之外，还有  
    传播延迟。但网络层不清楚这些参数。网络层可能发出了一个很大的数据包，该数据包被拆分并封装到10个帧中，而且20%  
    的帧在传输中被丢失，那么这个数据包可能需要花很长的时间才能传到接收方。相反地，如果每个帧都单独确认和必要时重传，  
    那么出现的差错就能更直接并且更快的被检测到。在可靠信道上，比如光纤，重量级数据链路协议的开销可能是不必要的；  
    但在无线信道上，由于信道内在的不可靠性，这种开销还是非常值得的。  

（3）有确认的有连接服务：源机器和目标机器在传输任何数据之前要建立一个连接。连接上发送的每一帧都被编号，数据  
    链路层确保发出的每个帧都会真正被接收方收到。它还保证每个帧只被接收一次，并且所有的帧都将按正确的顺序  
    被接收。因此，面向连接的服务相当于为网络层进程提供了一个可靠的比特流。它适用于长距离且不可靠的链路，  
    比如卫星信道或者长途电话电路。如果采用有确认的无连接服务，可以想象丢失了确认可能导致一个帧被收发多次，  
    因而将浪费带宽。
    
    当使用面向连接的服务时，数据传输必须经过三个不同阶段。第一个阶段，要建立连接，双方初始化各种变量和计数器，这些  
    变量和计数器记录了哪些帧已经接收到，哪些帧还没有收到。在第二个阶段，才真正传输一个或者多个数据帧。在第三个也是最  
    后一个阶段中，连接被释放，所有的变量、缓冲区以及其他用于维护该连接的资源也随之被释放。  

#### 成帧方法
（1）字节计数法：帧头标识帧中字符数，很少使用  
（2）字节填充的标志字节法：标志字节作为帧的开始和结束分界符，ESC转义  
（3）比特填充的标志比特法：特殊的比特模式作为开始和结束分界符，“0111 1110”0x7E标记，  
    遇到连续五个1，自动在输出的比特流中插入一个比特0  
    
    填充法的缺点是帧的长度会增幅大约12.5%
（4）物理层编码违禁法：冗余比特  


#### 流量控制
（1）基于反馈的流量控制：大多数  
（2）基于速率的流量控制：仅在传输层的一部分中可见  

作为链路层硬件实现的网络接口卡(NIC)，有时声称能以“线速”运行，所以任何过载不再是链路层的问题，它们必须由高层来处理  


#### 差错检测和纠正
1.纠错码：前向纠错  
(1)海明码  
(2)二进制卷积码  
(3)里德所罗门码  
(4)低密度奇偶校验码  

2.检错码  
（1）奇偶  
（2）校验和  
（3）循环冗余校验（CRC）：多项式  

~~~
应用程序
网络层
链路层(驱动器)
链路层（网络接口卡NIC）
物理层（线缆（介质））
~~~




























































